<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: map.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: map.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Get token from config file to access NPS API:
* {@link https://www.nps.gov/subjects/developer/api-documentation.htm}
* @type {object}
*/
var nps_token = config.NPS_TOKEN;

/** Get token from config file to access Google Maps API:
* {@link https://maps.googleapis.com/maps/api/js}
* @type {string}
*/
var maps_token = config.MAPS_TOKEN;

/**  
* Function to load asynchronous Google API map results for the National Parks based on the user's geolocation
* or user's input location 
* @function initMap
*/

function initMap() {
/** Get the latitude value from index page
 *  @var {number} latitude
*/
  var latitude = parseFloat(localStorage.getItem("latitude"));
/** Get the longitude value from index page 
 *  @var {number} longitude
*/
  var longitude = parseFloat(localStorage.getItem("longitude"));
/** Get the radius value from index page 
 *  @var {number} radius
*/
  var radius = localStorage.getItem("radius");
  console.log(latitude,longitude,radius);
/** Place has the latitude and longitude positions of the location
 *  @var {string} place
 */
  var place = { lat: latitude,lng: longitude};
  console.log(place);
/** Map to view the park results on HTML page with location and zoom
*  @constant map
*  @type {Object}
*  @property {string} center location on map
*  @property {number} zoom zoom map
*/
  const map = new google.maps.Map(document.getElementById("map"), {
    center: place,
    zoom: 8,
  });
/** Get the icon from the link to represent the location on map: 
*  {@link http://maps.google.com/}
*  @constant iconBase
*  @type {URL}
*/
  const iconBase = "http://maps.google.com/mapfiles/kml/paddle/";

/** Icon to represent the location on map 
*  @constant marker
*  @type {Object}
*  @property {string} position location on map
*  @property {image} icon icon image
*  @property {Map} map map
*/
  const marker = new google.maps.Marker({
    position: place,
    icon: iconBase + "blu-stars.png",
    map: map,
  });
}

  /*
  const markers = locations.map((location, i) => {
    return new google.maps.Marker({
      position: location,
      icon: iconBase + "pink-blank.png",
      map: map,
    });
  });*/

/*
const locations = [
  { lat: 41.80, lng: -87.77 },
  { lat: 41.82, lng: -87.61 },
  { lat: 40.9, lng: -87.6 },
  { lat: 41.65, lng: -87.5 },
  { lat: 41.84, lng: -87.8 },
  { lat: 41.99, lng: -87.9 },
  { lat: 41.89, lng: -88 },
  { lat: 41.75, lng: -88.626893 },
  { lat: 41.7, lng: -87.9 },
  { lat: 41.6, lng: -87.5 },
  { lat: 42.9, lng: -87.3 },
];
*/


/*
// Calling in the NPS APIs - Option 1 -- Not pulling in the correct information, undefined
const Http = new XMLHttpRequest();
const a = 'https://developer.nps.gov/api/v1/activities?activitiesCode=acad&amp;api_key=' + nps_token;
Http.open("GET", a);
//const a = 'https://developer.nps.gov/api/v1/activities?activitiesCode=acad&amp;api_key=' + nps_token;
Http.onreadystatechange=(e)=> {
  for(var i = 0; i &lt; a.length; i++) {
    var row = document.createElement('input');
    row.type = "checkbox";
    row.value = document.createTextNode(a[i].name);
    checkboxDiv = document.getElementById("checkboxes1");
    checkboxDiv.appendChild(row);
    
    console.log(a[i].name)
    console.log(Http.responseText)
}}
Http.send();
*/


/*
// Calling in the NPS APIs - Option 2 - brought up the CORS error
const url = 'https://developer.nps.gov/api/v1/activities?activitiesCode=acad&amp;api_key=' + nps_token;
let myRequest = new XMLHttpRequest();
myRequest.onreadystatechange = function() {
  if (myRequest.readyState == 4 &amp;&amp; myRequest.status == 200) {
      let a = JSON.parse(myRequest.responseText);
      let list = document.createElement('ul');
          for(var i = 0; i &lt; a.length; i++) {
              console.log(a[i]);
              var row = document.createElement('li');
              row.id = a[i].data.id;
              var cellproduct = document.createElement('li');
              var protext = document.createTextNode(a[i].data.name);
              cellproduct.appendChild(protext);
              row.appendChild(cellproduct);
              list.appendChild(row);
          }
              document.getElementById('checkboxes1').appendChild(list);
          }
          };
          myRequest.open('GET', "'https://developer.nps.gov/api/v1/activities?activitiesCode=acad&amp;api_key=' + nps_token");
          myRequest.send();
*/

/*
// Calling in the NPS APIs - Option 3
// api url 
const api_url =  
      "'https://developer.nps.gov/api/v1/activities?activitiesCode=acad&amp;api_key=' + nps_token"; 
  
// Defining async function 
async function getapi(url) { 
    
    // Storing response 
    const response = await fetch(url); 
    
    // Storing data in form of JSON 
    var data = await response.json(); 
    console.log(data); 
    if (response) { 
      for(var i = 0; i &lt; api_url.length; i++) {
        var row = document.createElement('input');
        row.type = "checkbox";
        row.value = document.createTextNode(api_url[i].name);
        checkboxDiv = document.getElementById("checkboxes1");
        checkboxDiv.appendChild(row);
        
        console.log(data)
  
    }
    
    show(data); 
} 
// Calling that async function 
getapi(api_url); 
}
*/</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#current_location">current_location</a></li><li><a href="global.html#geocoder">geocoder</a></li><li><a href="global.html#getAddress">getAddress</a></li><li><a href="global.html#getLocation">getLocation</a></li><li><a href="global.html#iconBase">iconBase</a></li><li><a href="global.html#initMap">initMap</a></li><li><a href="global.html#lat">lat</a></li><li><a href="global.html#latitude">latitude</a></li><li><a href="global.html#location">location</a></li><li><a href="global.html#long">long</a></li><li><a href="global.html#longitude">longitude</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#maps_token">maps_token</a></li><li><a href="global.html#marker">marker</a></li><li><a href="global.html#nps_token">nps_token</a></li><li><a href="global.html#place">place</a></li><li><a href="global.html#radius">radius</a></li><li><a href="global.html#reset">reset</a></li><li><a href="global.html#search">search</a></li><li><a href="global.html#showCheckboxes1">showCheckboxes1</a></li><li><a href="global.html#showCheckboxes2">showCheckboxes2</a></li><li><a href="global.html#showPosition">showPosition</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Mar 23 2021 14:13:11 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
